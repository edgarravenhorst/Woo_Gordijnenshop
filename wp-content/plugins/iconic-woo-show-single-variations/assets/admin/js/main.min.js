!function(e,s){var o={cache:function(){o.vars={},o.els={},o.vars.count=[],o.els.process_overlay=e(".process-overlay"),o.els.process=e(".process"),o.els.process_content=e(".process__content--processing"),o.els.process_loading=e(".process__content--loading"),o.els.process_complete=e(".process__content--complete"),o.els.process_from=e(".process__count-from"),o.els.process_to=e(".process__count-to"),o.els.process_total=e(".process__count-total"),o.els.process_loading_bar_fill=e(".process__loading-bar-fill")},on_ready:function(){o.cache(),o.watch_triggers()},watch_triggers:function(){e("[data-iconic-wssv-ajax]").on("click",function(){var s=e(this).data("iconic-wssv-ajax");return null==o[s]?!1:void o[s].run()}),e(".process__close").on("click",function(){o.process.hide()})},process_product_visibility:{run:function(){var e=10;o.process.show("loading"),o.get_count("product",function(s){o.process.update_count(1,e,s),o.process.show("content"),o.batch("process_product_visibility",s,e,0,function(c,t){if(c){var n=t+e;n=n>=s?s:n,o.process.update_count(t,n,s),o.process.set_percentage(t,s)}else o.process.show("complete"),o.process.set_percentage(s,s)})})}},process:{show:function(e){e="undefined"==typeof e?"content":e,o.els.process_overlay.show(),o.els.process.show(),"loading"===e?(o.els.process_loading.show(),o.els.process_complete.hide(),o.els.process_content.hide()):"complete"===e?(o.els.process_loading.hide(),o.els.process_complete.show(),o.els.process_content.hide()):(o.els.process_loading.hide(),o.els.process_complete.hide(),o.els.process_content.show())},hide:function(){o.els.process_overlay.hide(),o.els.process.hide(),o.els.process_loading.show(),o.els.process_complete.hide(),o.els.process_content.hide(),o.process.reset_percentage()},update_count:function(e,s,c){o.els.process_from.text(e),o.els.process_to.text(s),o.els.process_total.text(c)},set_percentage:function(e,s){var c=e/s*100;o.els.process_loading_bar_fill.css("width",c+"%")},reset_percentage:function(){o.els.process_loading_bar_fill.css("width","0%")}},batch:function(e,s,c,t,n){var r=!0,i={action:"iconic_wssv_"+e,limit:c,offset:t};jQuery.post(ajaxurl,i,function(i){var l=t+c;s>l?o.batch(e,s,c,l,n):r=!1,"function"==typeof n&&n(r,l)})},get_count:function(e,s){if(null!=o.vars.count[e])return void("function"==typeof s&&s(o.vars.count[e]));var c={action:"iconic_wssv_get_"+e+"_count"};jQuery.post(ajaxurl,c,function(c){"function"==typeof s&&s(c.count),o.vars.count[e]=c.count})}};e(s).ready(o.on_ready())}(jQuery,document);